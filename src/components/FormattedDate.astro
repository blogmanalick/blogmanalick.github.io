---
import { LANG_EN, LANG_ES, LANG_PT } from '../lib/lang';

interface Props {
	date: Date;
	locale?: string;
}

const { date, locale = 'pt-BR' } = Astro.props;

// Formatação de data por idioma
const localeFormats: Record<string, Intl.DateTimeFormatOptions> = {
	'pt-BR': {
		year: 'numeric',
		month: 'long',
		day: 'numeric',
	},
	[LANG_PT]: {
		year: 'numeric',
		month: 'long',
		day: 'numeric',
	},
	[LANG_EN]: {
		year: 'numeric',
		month: 'short',
		day: 'numeric',
	},
	[LANG_ES]: {
		year: 'numeric',
		month: 'long',
		day: 'numeric',
	},
};

const format = localeFormats[locale] || localeFormats['pt-BR'];
---

<time datetime={date.toISOString()}>
	{date.toLocaleDateString(locale, format)}
</time>
